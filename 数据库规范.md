# 数据库设计规范

针对目前常用的MySQL数据库，做出以下规范：

## 版本

采用MySQL 5.7 系列的最后一个正式版本：5.7.33

## 命名

|          | 规范                                                         | 示例                                                         | 描述                                          |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ | --------------------------------------------- |
| 数据库名 | 项目命名；项目缩写+有意义的英文单词组成；多个单词以下划线分割；全部为小写字母组成 |                                                              |                                               |
| 表名     | 固定前缀 + 模块命名；有意义的英文单词组成；多个单词以下划线分割；全部为小写字母组成；复杂业务场景下可以按照业务前缀进行业务域区分 | <code>t_auth_account</code><br><code>t_auth_resource</code>  | 固定前缀：<code>t_</code>                     |
| 字段名   | 实体属性名；有意义的英文单词组成；多个单词以下划线分割；全部为小写字母组成 | <code>name</code> <code>age</code> <code>user_id</code>      | 存在关联关系的字段，如外键：<code>a_id</code> |
| 视图名   | 固定前缀 + 主体表名                                          | <code>vw_auth_account</code><br><code>vw_auth_resource</code> | 固定前缀：<code>vw_</code>                    |
| 索引     | 固定前缀 + 表名 + 字段名；需注意索引名长度限制；唯一索引增加`unique`标识 | <code>idx_authority_account_age</code>                       | 固定前缀：<code>idx_</code>                   |

## 数据格式

常用的数据类型：bigint、tinyint、int、decimal、datetime、timestamp、varchar。

*小数类型建议使用 decimal，不建议使用 float、double。*

## 基础字段

| 字段名      | 描述     | 类型      | 默认值                               |
| ----------- | -------- | --------- | ------------------------------------ |
| id          | 主键     | bigint    | 自增或雪花算法（序列化时转为String） |
| create_time | 插入时间 | timestamp | CURRENT_TIMESTAMP                    |
| update_time | 更新时间 | timestamp | CURRENT_TIMESTAMP                    |

